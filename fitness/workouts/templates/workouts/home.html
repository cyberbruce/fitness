{% extends 'layout.html' %}

{% block body %}
  <h4>Workouts</h4>

  <div class="menu-wrapper">
  <a href="{% url 'dashboard:home'%}">Back to Dashboard</a> | 
  <a href="{% url 'workouts:create_workout' %}">Create a new Workout</a>
  </div>

  
  <div class="border my-3 p-3 bg-light rounded">

  <h5>Workouts</h5>

  
  {% if workouts  %}
  <div class="table-responsive">
  <table class="table">
    <thead>
        <tr>
            <td>Name</td>
            <td>Date</td>
            <td>Duration(min)</td>
            <td>Effort</td>
        </tr>
    </thead>
    {% for w in workouts %}
      <tr>
          <td><a href="{% url 'workouts:update_workout' w.id %}">{{ w.name }}</a></td>
          <td>{{ w.workout_datetime | date:"SHORT_DATETIME_FORMAT"}}</td>
          <td>{{ w.duration }}</td>
          <td style="min-width: 300px;">
              
            <div class="progress">
              <div class="progress-bar bg-success" role="progressbar" style="width: {{w.pct}}%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">
                {{w.pct}}%  (effort {{w.effort}})

              </div>
            </div>

          </td>
      </tr>
    {% endfor %}

  </table>
</div>
  {% else %}
    <h2 class="text-muted">Let's create a new workout today!</h2>
  {% endif %}
</div>

{% endblock body %}